|                                |                                                              |
| ------------------------------ | ------------------------------------------------------------ |
| **Краткое описание инцидента** | 21.10.2008 в 22:52  UTC потеря сетевого соединения в восточном регионе США привело к  рассинхронизации кластеров |
| **Предшествующие события**     | 21.10.2008 в 22:52  UTC плановые работы по техническому обслуживанию по замене вышедшего из строя  оптического оборудования 100G . |
| **Причина инцидента**          | Потеря связи между  сетевым центром на восточном побережье США и   основным ЦОД на восточном побережье США на 43 секунды. |
| **Воздействие**                | Отображение  устаревшей и несогласованной информации.     Приостановка работы обслуживания  webhook, построение странриц сайта, снижение скорости работы сайта (ухудшение  качества обслуживания) на 24 часа и 11 минут. |
| **Обнаружение**                | Обнаружено  ответственными инженерами команды первого реагирования с помощью систем  оповещения |
| **Реакция**                    | Полностью инцидент  устранен за 24 часа и 11 минут.        |
| **Восстановление**             | Было выполнено  восстановление из резервной копии, синхронизация реплик |
| **Таймлайн**                   | 21.10.2008 в 22:52 UTC  потеря связи между ЦОД востока и запада, рассинхронизация кластеров (каждый содержит данные которых нет в другом кластере.)<br/>21.10.2008 22:54 UTC - от систем получены оповещения о не исправности.<br/>21.10.2008 23:02 UTC - ответственные инженеры команды  1-го реагирования определили что топологии кластеров БД находятся в "неоджидонном" состоянии<br/>21.10.2008 23:07 UTC - команда разработчиков заблокировала внутр. инструменты развертывания<br/>21.10.2008 23:09 UTC - ответственные инженеры изменила статус сайта на желтый, оправлено предупреждение координатору инцидента.<br/>21.10.2008 23:11 UTC - координатор инцидента изменил статус на красный.<br/>21.10.2008 23:13 UTC - в результате исследований инженеров  из группы разработки БД принято решение по деградации сервиса с целью обеспечения согласованности данных.<br/>21.10.2008 23:19 UTC - отключение webhook, сборки страниц на Github<br/>22.10.2008 00:05 UTC - решение восстановить из резервных копий, синхронизировать реплики на обоих сайтах<br/>22.10.2008 00:41 UTC - начат процесс резервного копирования всех затронутых кластеров MySQL<br/>22.10.2008 06:51 UTC - Несколько кластеров завершили восстановление из резервных копий в нашем центре обработки данных на восточном побережье США и начали репликацию новых данных с западного побережья.<br/>22.10.2008  07:46 UTC - Все первичные базы данных снова установлены на Восточном побережье США.<br/>22.10.2008 16:24 UTC - реплики синхронизированы,  выполнено переключение на исходную топологию<br/>22.10.2008 16:45 UTC Увеличение TTL,  ожидание обрабатки очереди webhooks<br/>22.10.2008 23:03 UTC - Все незавершенные webhooks  и сборки страниц были обработаны, и целостность и правильная работа  всех систем были подтверждены. Статус сайта был обновлен до зеленого. Система работает в штатнос состоянии |
| **Последующие действия**       | Анализ журналов  журналы MySQL, содержащих записи, сделанные на основном сайте, которые не  были реплицированы на сайт на западном побережье. Решение какие записи могут  быт автоматически согласованы, а какие потребуют воздействия  специалиста.     Разработка решения по предотващению подобных ситуаций в дальнейшем. |

